From cfba7c0133691e510e8c11d84aafe63a9cdafea0 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Marc-Andr=C3=A9=20Moreau?= <mamoreau@devolutions.net>
Date: Wed, 21 Sep 2022 11:02:54 -0400
Subject: [PATCH] allow dynamic linking for iOS targets

---
 compiler/rustc_target/src/spec/apple_sdk_base.rs | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/compiler/rustc_target/src/spec/apple_sdk_base.rs b/compiler/rustc_target/src/spec/apple_sdk_base.rs
index ecb6cbd9f8a..078e1a7bc73 100644
--- a/compiler/rustc_target/src/spec/apple_sdk_base.rs
+++ b/compiler/rustc_target/src/spec/apple_sdk_base.rs
@@ -53,7 +53,7 @@ pub fn opts(os: &'static str, arch: Arch) -> TargetOptions {
     TargetOptions {
         abi: target_abi(arch).into(),
         cpu: target_cpu(arch).into(),
-        dynamic_linking: false,
+        dynamic_linking: true,
         executables: true,
         link_env_remove: link_env_remove(arch),
         has_thread_local: false,
-- 
2.25.1

